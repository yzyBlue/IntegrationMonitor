<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zju.integration.monitor.dao.TransactionDao">
	<resultMap id="transactionMap" type="com.zju.integration.monitor.model.Transaction">
		<id column="PROFILE_ID" property="transId" jdbcType="INTEGER" />
		<result column="PROFILE_CODE" property="transCode" jdbcType="VARCHAR" />
		<result column="PROFILE_NAME" property="transName" jdbcType="VARCHAR" />
		<result column="PROFILE_CHINESE_NAME" property="transChineseName" jdbcType="VARCHAR" />
		<result column="PROFILE_MEMO" property="transMemo" jdbcType="VARCHAR" />
		<result column="CREATE_DATE_TIME" property="createDate" jdbcType="TIMESTAMP" />
	</resultMap>
	
	<sql id="transactionInfo">
		PROFILE_CODE,PROFILE_NAME,PROFILE_CHINESE_NAME,PROFILE_MEMO,CREATE_DATE_TIME  
	</sql>
	
	<!--查询事务类型字典表信息-->
	<select id="select" resultMap="transactionMap">
		SELECT
		<include refid="transactionInfo"></include>
		FROM
		PROFILE_TYPE
		WHERE PROFILE_ID = #{transId,jdbcType=INTEGER}
	</select>
	<!--写入用户信息-->
	<insert id="insert" parameterType="com.zju.integration.monitor.model.Transaction">
	<selectKey resultType="long" order="AFTER" keyProperty="transId">
		SELECT ident_current('PROFILE_TYPE') AS transId
	</selectKey>
	INSERT INTO
		PROFILE_TYPE (
		<include refid="transactionInfo"></include>
		 ) VALUES ( 
		#{transCode,jdbcType=VARCHAR},
		#{transName,jdbcType=VARCHAR},
		#{transChineseName,jdbcType=VARCHAR},
		#{transMemo,jdbcType=VARCHAR},
		#{createDate,jdbcType=TIMESTAMP} 
		)
	</insert>
	<!--更新用户信息-->
	<update id="update" parameterType="com.zju.integration.monitor.model.Transaction">
		UPDATE
		PROFILE_TYPE
		SET
		PROFILE_CODE=#{transCode,jdbcType=VARCHAR},
		PROFILE_NAME=#{transName,jdbcType=VARCHAR},
		PROFILE_CHINESE_NAME=#{transChineseName,jdbcType=VARCHAR},
		PROFILE_MEMO=#{transMemo,jdbcType=VARCHAR} 
		WHERE
		PROFILE_ID
		=
		#{transId,jdbcType=INTEGER}
	</update>
	<!--删除用户信息-->
	<delete id="delete" parameterType="com.zju.integration.monitor.model.Transaction">
		DELETE FROM PROFILE_TYPE WHERE PROFILE_ID = #{transId,jdbcType=INTEGER}
	</delete>
	
</mapper>